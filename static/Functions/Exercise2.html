  
<html>
<head>
<script src="../jquery.min1.10.2.js"></script>
<script src='../dygraph-combined.js'></script>
<script src='../evalcells.js'></script>
<link rel="stylesheet" href="../bootstrap.min.css">
<script src="../bootstrap.min.js"></script>
<link rel="stylesheet" href="../main.css">

<script src="../trie.js"></script>
<script src="../helper.js"></script>
<script src="../jquery.textarea-highlighter.js"></script>
<script src="../index.js"></script>
</head>


<body>
<div class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">OMWebBook</a>
    </div>
     <button id="evaluate" type="button" class="btn btn-success navbar-btn">Evaluate Cell</button>
    <button id="evaluateall" type="button" class="btn btn-success navbar-btn">Eval All</button>
    <img id="progressbar" src="../ajax-loader.gif" class="img-rounded" alt="Cinque Terre">
  </div>
</div>
<div class="container">
<br> <br> <br>

<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial'; font-size:38pt; font-weight:600; color:#000000;">Exercise 2</span></p>
</h1>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:18pt; font-weight:600; color:#000000;">Functions</span></p>
</h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">We want to search through an array of names and find the position of a particular name. The function should have two arguments, an array of names and the name we are looking for. The output will be the index where the name where found or an error will occur if the name was not found. </span></p><br>
<textarea class="target" id=check0textarea>

</textarea>  <div id=check0div> </div> <br>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"><br/><br/>Write a class that tests the previous function.</span></p><br>
<textarea class="target" id=check1textarea>

</textarea>  <div id=check1div> </div> <br>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:14pt; font-weight:600; color:#000000;">Hint</span></p>
</h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Assert</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> can be used to check wether the result has been found or not and if it has not been found, the message in the second argument will be shown otherwise.</span></p><br>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:14pt; font-weight:600; color:#000000;"><button type="button" class="btn btn-info" data-toggle="collapse" data-target="#answer1">Answer</button></span></p>
</h1>
<div id="answer1" class="collapse">
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:12pt; font-weight:600; color:#000000;">findName</span></p>
</h1>
<textarea rows=17 class="target" id=check2textarea>
function findName
  input String nameArray[:];
  input String name;
  output Integer index;
protected
  Integer i, length = size(nameArray, 1);
algorithm
  index := -1;
  i := 1;
  while index == -1 and i<length loop
    if nameArray[i] == name then
      index := i;
    end if;
    i := i + 1;
  end while;
  assert(index<>-1, "findName: Failed");
end findName;
</textarea>  <div id=check2div> </div> <br>
<textarea rows=1 class="target" id=check3textarea>
findName({"C++", "Lisp", "Java", "Ada", "Modelica"},"Lisp")  
</textarea>  <div id=check3div> </div> <br>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:12pt; font-weight:600; color:#000000;">testFindName</span></p>
</h1>
<textarea rows=7 class="target" id=check4textarea>
class testFindName
  Integer findLisp;
  String nameArray[:] = {"C++", "Lisp", "Java", "Ada", "Modelica"};
  String lisp = "Lisp";
equation
  findLisp = findName(nameArray, lisp);
end testFindName;
</textarea>  <div id=check4div> </div> <br>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:12pt; font-weight:600; color:#000000;">Simulation of testFindName</span></p>
</h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">We see that the name "Lisp" exist in the array and is on position 2.</span></p><br>
<textarea rows=1 class="target" id=check5textarea>
simulate( testFindName ) 
</textarea>  <div id=check5div> </div> <br>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:12pt; font-weight:600; color:#000000;">testFindName2</span></p>
</h1>
<textarea rows=7 class="target" id=check6textarea>
class testFindName2
  Integer findPascal;
  String nameArray[:] = {"C++", "Lisp", "Java", "Ada", "Modelica"};
  String pascal = "Pascal";
equation
  findPascal = findName(nameArray, pascal);
end testFindName2;
</textarea>  <div id=check6div> </div> <br>
<h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times'; font-size:12pt; font-weight:600; color:#000000;">Simulation of testFindName2</span></p>
</h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">When searching for a name that is not in the array, the simulation is aborted. We see in the dslog.txt that the assertion fails.</span></p><br>
<textarea rows=1 class="target" id=check7textarea>
simulate( testFindName2 ) 
</textarea>  <div id=check7div> </div> <br>
</div>
</div></body></html>